/*! UIkit 3.0.0-beta.35 | http://www.getuikit.com | (c) 2014 - 2017 YOOtheme | MIT License */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("uikitslideshow",e):t.UIkitSlideshow=e()}(this,function(){"use strict";function t(e){function i(t,e){var i=t.length-1,n=Math.min(Math.floor(i*e),i-1),s=t.slice(n,n+2);return s.push(1===e?1:e%(1/i)*i),s}function n(t,e){var n=i(t,e),s=n[0],r=n[1],a=n[2];return(d(s)?s+Math.abs(s-r)*a*(s<r?1:-1):+r).toFixed(2)}if(!t.installed){var s=e.mixin,r=e.util,a=r.clamp,o=r.css,h=r.Dimensions,c=r.each,u=r.getImage,l=r.includes,d=r.isNumber,f=r.isUndefined,p=r.scrolledOver,m=r.toFloat,g=r.query,v=r.win,x=["x","y","bgx","bgy","rotate","scale","color","backgroundColor","borderColor","opacity","blur","hue","grayscale","invert","saturate","sepia","fopacity"];s.parallax={props:x.reduce(function(t,e){return t[e]="list",t},{media:"media"}),defaults:x.reduce(function(t,e){return t[e]=void 0,t},{media:!1}),computed:{props:function(t,e){var i=this;return x.reduce(function(n,s){if(f(t[s]))return n;var r,a,h,c=s.match(/color/i),u=c||"opacity"===s,d=t[s].slice(0);u&&o(e,s,""),d.length<2&&d.unshift(("scale"===s?1:u?o(e,s):0)||0);var p=l(d.join(""),"%")?"%":"px";if(c){var g=e.style.color;d=d.map(function(t){return function(t,e){return o(o(t,"color",e),"color").split(/[(),]/g).slice(1,-1).concat(1).slice(0,4).map(function(t){return m(t)})}(e,t)}),e.style.color=g}else d=d.map(m);if(s.match(/^bg/))if(o(e,"background-position-"+s[2],""),a=o(e,"backgroundPosition").split(" ")["x"===s[2]?0:1],i.covers){var v=Math.min.apply(Math,d),x=Math.max.apply(Math,d),w=d.indexOf(v)<d.indexOf(x);h=x-v,d=d.map(function(t){return t-(w?v:x)}),r=(w?-h:0)+"px"}else r=a;return n[s]={steps:d,unit:p,pos:r,bgPos:a,diff:h},n},{})},bgProps:function(){var t=this;return["bgx","bgy"].filter(function(e){return e in t.props})},covers:function(t,e){return"cover"===o(""!==e.style.backgroundSize?o(e,"backgroundSize",""):e,"backgroundSize")}},disconnected:function(){delete this._image},update:[{read:function(t){var e=this;if(this._resetComputeds(),t.active=!this.media||v.matchMedia(this.media).matches,t.image&&(t.image.dimEl={width:this.$el.offsetWidth,height:this.$el.offsetHeight}),!("image"in t)&&this.covers&&this.bgProps.length){var i=o(this.$el,"backgroundImage").replace(/^none|url\(["']?(.+?)["']?\)$/,"$1");i&&(t.image=!1,u(i).then(function(i){t.image={width:i.naturalWidth,height:i.naturalHeight},e.$emit()}))}},write:function(t){var e=this,i=t.image,n=t.active;if(i)if(n){var s=i.dimEl,r=h.cover(i,s);this.bgProps.forEach(function(t){var n=e.props[t],a=n.diff,o=n.bgPos,c=n.steps,u="bgy"===t?"height":"width",l=r[u]-s[u];o.match(/%$|0px/)&&(l<a?s[u]=r[u]+a-l:l>a&&(o=parseFloat(o))&&(e.props[t].steps=c.map(function(t){return t-(l-a)/(100/o)})),r=h.cover(i,s))}),o(this.$el,{backgroundSize:r.width+"px "+r.height+"px",backgroundRepeat:"no-repeat"})}else o(this.$el,{backgroundSize:"",backgroundRepeat:""})},events:["load","resize"]}],methods:{reset:function(){var t=this;c(this.getCss(0),function(e,i){return o(t.$el,i,"")})},getCss:function(t){var e=!1,s=this.props;return Object.keys(s).reduce(function(r,a){var o=s[a],h=o.steps,c=o.unit,u=o.pos,l=n(h,t);switch(a){case"x":case"y":if(e)break;var d=["x","y"].map(function(e){return a===e?l+c:s[e]?n(s[e].steps,t)+s[e].unit:0}),f=d[0],p=d[1];e=r.transform+=" translate3d("+f+", "+p+", 0)";break;case"rotate":r.transform+=" rotate("+l+"deg)";break;case"scale":r.transform+=" scale("+l+")";break;case"bgy":case"bgx":r["background-position-"+a[2]]="calc("+u+" + "+(l+c)+")";break;case"color":case"backgroundColor":case"borderColor":var g=i(h,t),v=g[0],x=g[1],w=g[2];r[a]="rgba("+v.map(function(t,e){return t+=w*(x[e]-t),3===e?m(t):parseInt(t,10)}).join(",")+")";break;case"blur":r.filter+=" blur("+l+"px)";break;case"hue":r.filter+=" hue-rotate("+l+"deg)";break;case"fopacity":r.filter+=" opacity("+l+"%)";break;case"grayscale":case"invert":case"saturate":case"sepia":r.filter+=" "+a+"("+l+"%)";break;default:r[a]=l}return r},{transform:"",filter:""})}}},e.component("parallax",{mixins:[s.parallax],props:{target:String,viewport:Number,easing:Number},defaults:{target:!1,viewport:1,easing:1},computed:{target:function(t,e){var i=t.target;return i&&g(i,e)||e}},update:[{read:function(t){return{prev:t.percent,percent:function(t,e){return a(t*(1-(e-e*t)))}(p(this.target)/(this.viewport||1),this.easing)}},write:function(t,e){var i=t.prev,n=t.percent,s=t.active;"scroll"!==e.type&&(i=!1),s?i!==n&&o(this.$el,this.getCss(n)):this.reset()},events:["scroll","load","resize"]}]})}}function e(t,e){return void 0===t&&(t=0),void 0===e&&(e="%"),"translate("+t+(t?e:"")+", 0)"}function i(t){return"scale3d("+t+", "+t+", 1)"}function n(t){function e(t,e,n,s,r,a){var o=t.percent,h=t.translate,c=(0,t.show)(r);return{animation:t,dir:r,current:n,next:s,show:function(t,o,h){var u=this;void 0===o&&(o=0);var l=h?"linear":e;return t-=Math.round(t*o),this.translate(o),i(s,"itemin",{percent:o,duration:t,ease:l,dir:r}),n&&i(n,"itemout",{percent:1-o,duration:t,ease:l,dir:r}),_.all([L.start(s,c[1],t,l),n&&L.start(n,c[0],t,l)]).then(function(){u.reset(),a()},k)},stop:function(){return L.stop([s,n])},cancel:function(){L.cancel([s,n])},reset:function(){for(var t in c[0])d([s,n],t,"")},forward:function(t){var e=this.percent();L.cancel([s,n]),this.show(t,e,!0)},translate:function(t){var e=h(t,r);d(s,e[1]),n&&d(n,e[0]),i(s,"itemtranslatein",{percent:t,dir:r}),n&&i(n,"itemtranslateout",{percent:1-t,dir:r})},percent:function(){return o(n,s,r)}}}function i(t,e,i){W(t,l(e,!1,!1,i))}function s(t){return~~t}if(!n.installed){var a=t.util,o=a.$$,h=a.$,c=a.addClass,u=a.assign,l=a.createEvent,d=a.css,f=a.data,p=a.doc,m=a.endsWith,g=a.fastdom,v=a.getIndex,x=a.getPos,w=a.hasClass,b=a.index,y=a.isTouch,k=a.noop,I=a.off,z=a.on,$=a.pointerDown,A=a.pointerMove,M=a.pointerUp,C=a.preventClick,_=a.Promise,H=a.removeClass,P=a.toggleClass,S=a.toNodes,L=a.Transition,W=a.trigger,N=a.win,O=Math.abs;t.mixin.slideshow={attrs:!0,props:{autoplay:Boolean,autoplayInterval:Number,pauseOnHover:Boolean,animation:String,easing:String,velocity:Number},defaults:{autoplay:!1,autoplayInterval:7e3,pauseOnHover:!0,animation:"slide",easing:"ease",velocity:1,index:0,stack:[],threshold:10,percent:0,clsActive:"uk-active",clsActivated:"uk-transition-active",initialAnimation:!1,Animations:r(t)},computed:{list:function(t,e){var i=t.selList;return h(i,e)},slides:function(){return S(this.list.children)},animation:function(t){var e=t.animation,i=t.Animations;return u(e in i?i[e]:i.slide,{name:e})},duration:function(t,e){var i=t.velocity;return function(t){return.5*t+300}(e.offsetWidth/i)}},init:function(){var t=this;["start","move","end"].forEach(function(e){var i=t[e];t[e]=function(e){var n=x(e).x;t.prevPos=n!==t.pos?t.pos:t.prevPos,t.pos=n,i(e)}})},connected:function(){this.startAutoplay()},disconnected:function(){this.stopAutoplay()},update:[{read:function(){delete this._computeds.duration},events:["load","resize"]}],events:[{name:"click",delegate:function(){return"["+this.attrItem+"],[data-"+this.attrItem+"]"},handler:function(t){t.preventDefault(),t.current.blur(),this.show(f(t.current,this.attrItem))}},{name:$,delegate:function(){return this.selList+" > *"},handler:function(t){!y(t)&&function(t){return!t.children.length&&t.childNodes.length}(t.target)||this.start(t)}},{name:"visibilitychange",el:p,handler:function(){p.hidden?this.stopAutoplay():this.startAutoplay()}},{name:$,handler:"stopAutoplay"},{name:"mouseenter",filter:function(){return this.autoplay},handler:function(){this.isHovering=!0}},{name:"mouseleave",filter:function(){return this.autoplay},handler:function(){this.isHovering=!1}},{name:"beforeitemshow",self:!0,delegate:function(){return this.selList+" > *"},handler:function(t){var e=t.target;c(e,this.clsActive)}},{name:"itemshown",self:!0,delegate:function(){return this.selList+" > *"},handler:function(t){var e=t.target;c(e,this.clsActivated)}},{name:"itemshow itemhide",self:!0,delegate:function(){return this.selList+" > *"},handler:function(t){var e=t.type,i=t.target;P(o("["+this.attrItem+'="'+b(i)+'"],[data-'+this.attrItem+'="'+b(i)+'"]',this.$el),this.clsActive,m(e,"show"))}},{name:"itemhidden",self:!0,delegate:function(){return this.selList+" > *"},handler:function(t){var e=t.target;H(e,this.clsActive),H(e,this.clsActivated)}},{name:"itemshow itemhide itemshown itemhidden",self:!0,delegate:function(){return this.selList+" > *"},handler:function(e){var i=e.target;t.update(null,i)}},{name:"dragstart",handler:function(t){t.preventDefault()}}],methods:{start:function(t){if(!(t.button>0||this.slides.length<2||this._animation&&this._animation.animation!==this.animation)){var e=0;if(this.stack.length){var i=this._animation,n=i.dir,s=i.percent,r=i.cancel,a=i.translate;e=s()*n,this.percent=O(e)*-n,this.stack.splice(0,this.stack.length),r(),a(O(e)),this.index=this.getIndex(this.index-n),this.dragging=!0}this.unbindMove=z(p,A,this.move,{capture:!0,passive:!1}),z(N,"scroll",this.unbindMove),z(p,M,this.end,!0),this.drag=this.pos+this.$el.offsetWidth*e}},move:function(i){var n=this,r=this.pos-this.drag;if(!(this.prevPos===this.pos||!this.dragging&&O(r)<this.threshold)){i.cancelable&&i.preventDefault(),this.dragging=!0;var a=r/this.$el.offsetWidth;if(this.percent!==a){var o=this.getIndex(this.index-s(this.percent)),h=this.getIndex(this.index-s(a)),c=this.slides[h],u=a<0?1:-1,l=v(a<0?"next":"previous",this.slides,h),d=this.slides[l];this.slides.forEach(function(t,e){return P(t,n.clsActive,e===h||e===l)}),this._animation&&this._animation.reset(),h!==o&&(W(this.slides[o],"itemhide",[this]),W(c,"itemshow",[this])),this._animation=new e(this.animation,this.easing,c,d,u,k),this._animation.translate(O(a%1)),this.percent=a,t.update(null,c),t.update(null,d)}}},end:function(){if(I(N,"scroll",this.unbindMove),this.unbindMove(),I(p,M,this.end,!0),this.dragging){var t=this.percent;this.percent=O(this.percent)%1,this.index=this.getIndex(this.index-s(t)),(this.percent<.1||t<0==this.pos>this.prevPos)&&(this.index=this.getIndex(t>0?"previous":"next"),this.percent=1-this.percent,t*=-1),this._animation&&this._animation.reset(),this.show(t>0?"previous":"next",!0),C()}this.drag=this.dragging=this.percent=null},show:function(t,e){var i=this;if(void 0===e&&(e=!1),e||!this.drag)if(this.stack[e?"unshift":"push"](t),!e&&this.stack.length>1)2===this.stack.length&&this._animation.forward(250);else{var n=this.index,s=this.getIndex(t),r=w(this.slides,"uk-active")&&this.slides[n],a=this.slides[s];if(r!==a){r&&W(r,"beforeitemhide",[this]),W(a,"beforeitemshow",[this]),this.index=s;var o=function(){r&&W(r,"itemhidden",[i]),W(a,"itemshown",[i]),g.write(function(){i.stack.shift(),i.stack.length?i.show(i.stack.shift(),!0):i._animation=null})};(r||this.initialAnimation)&&this._show(r?this.animation:this.Animations[this.initialAnimation],e?"cubic-bezier(0.165, 0.840, 0.440, 1.000)":this.easing,r,a,function(t,e){return"next"===t?1:"previous"===t?-1:t<e?-1:1}(t,n),this.stack.length>1,o),r&&W(r,"itemhide",[this]),W(a,"itemshow",[this]),r||this.initialAnimation||o(),r&&g.flush()}else this.stack[e?"shift":"pop"]()}},_show:function(t,i,n,s,r,a,o){this._animation=new e(t,i,n,s,r,o),this._animation.show(n===s?300:a?150:this.duration,this.percent,a)},getIndex:function(t){return void 0===t&&(t=this.index),v(t,this.slides,this.index)},startAutoplay:function(){var t=this;this.stopAutoplay(),this.autoplay&&(this.interval=setInterval(function(){t.isHovering&&t.pauseOnHover||t.stack.length||t.show("next")},this.autoplayInterval))},stopAutoplay:function(){this.interval&&clearInterval(this.interval)}}}}}function s(e){function i(t){return d(t,"in")}function r(t,e,n){return n/=2,i(t)?e<0?1-n:n:e<0?n:1-n}if(!s.installed){e.use(t),e.use(n);var o=e.mixin,h=e.util,c=h.closest,u=h.css,l=h.fastdom,d=h.endsWith,f=h.height,p=h.noop,m=h.Transition;e.component("slideshow",{mixins:[o.class,o.slideshow],props:{ratio:String,minHeight:Boolean,maxHeight:Boolean},defaults:{ratio:"16:9",minHeight:!1,maxHeight:!1,selList:".uk-slideshow-items",attrItem:"uk-slideshow-item",Animations:a(e)},ready:function(){var t=this;l.write(function(){return t.show(t.index)})},update:{read:function(){var t=this.ratio.split(":").map(Number),e=t[0],i=t[1];return i=i*this.$el.offsetWidth/e,this.minHeight&&(i=Math.max(this.minHeight,i)),this.maxHeight&&(i=Math.min(this.maxHeight,i)),{height:i}},write:function(t){var e=t.height;f(this.list,Math.floor(e))},events:["load","resize"]}}),e.component("slideshow-parallax",{mixins:[o.parallax],computed:{item:function(){var t=e.getComponent(c(this.$el,".uk-slideshow"),"slideshow");return t&&c(this.$el,t.selList+" > *")}},events:[{name:"itemshown",self:!0,el:function(){return this.item},handler:function(){u(this.$el,this.getCss(.5))}},{name:"itemin itemout",self:!0,el:function(){return this.item},handler:function(t){var e=t.type,n=t.detail,s=n.percent,a=n.duration,o=n.ease,h=n.dir;m.cancel(this.$el),u(this.$el,this.getCss(r(e,h,s))),m.start(this.$el,this.getCss(i(e)?.5:h>0?1:0),a,o).catch(p)}},{name:"transitioncanceled transitionend",self:!0,el:function(){return this.item},handler:function(){m.cancel(this.$el)}},{name:"itemtranslatein itemtranslateout",self:!0,el:function(){return this.item},handler:function(t){var e=t.type,i=t.detail,n=i.percent,s=i.dir;m.cancel(this.$el),u(this.$el,this.getCss(r(e,s,n)))}}]})}}"undefined"!=typeof window&&window.UIkit&&window.UIkit.use(t);var r=function(t){var i=t.util.css,n={slide:{show:function(t){return[{transform:e(-100*t)},{transform:e()}]},percent:function(t){return n.translated(t)},translate:function(t,i){return[{transform:e(-100*i*t)},{transform:e(100*i*(1-t))}]}},translated:function(t){return Math.abs(i(t,"transform").split(",")[4]/t.offsetWidth)||0}};return n},a=function(t){var n=t.mixin,s=t.util,r=s.assign,a=s.css,o=r({},n.slideshow.defaults.Animations,{fade:{show:function(){return[{opacity:0,zIndex:0},{zIndex:-1}]},percent:function(t){return 1-a(t,"opacity")},translate:function(t){return[{opacity:1-t,zIndex:0},{zIndex:-1}]}},scale:{show:function(){return[{opacity:0,transform:i(1.5),zIndex:0},{zIndex:-1}]},percent:function(t){return 1-a(t,"opacity")},translate:function(t){return[{opacity:1-t,transform:i(1+.5*t),zIndex:0},{zIndex:-1}]}},pull:{show:function(t){return t<0?[{transform:e(30),zIndex:-1},{transform:e(),zIndex:0}]:[{transform:e(-100),zIndex:0},{transform:e(),zIndex:-1}]},percent:function(t,e,i){return i<0?1-o.translated(e):o.translated(t)},translate:function(t,i){return i<0?[{transform:e(30*t),zIndex:-1},{transform:e(-100*(1-t)),zIndex:0}]:[{transform:e(100*-t),zIndex:0},{transform:e(30*(1-t)),zIndex:-1}]}},push:{show:function(t){return t<0?[{transform:e(100),zIndex:0},{transform:e(),zIndex:-1}]:[{transform:e(-30),zIndex:-1},{transform:e(),zIndex:0}]},percent:function(t,e,i){return i>0?1-o.translated(e):o.translated(t)},translate:function(t,i){return i<0?[{transform:e(100*t),zIndex:0},{transform:e(-30*(1-t)),zIndex:-1}]:[{transform:e(-30*t),zIndex:-1},{transform:e(100*(1-t)),zIndex:0}]}}});return o};return"undefined"!=typeof window&&window.UIkit&&window.UIkit.use(s),s});